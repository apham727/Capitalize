'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _https = require('https');

var _https2 = _interopRequireDefault(_https);

var _http = require('http');

var _http2 = _interopRequireDefault(_http);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var HOSTS = {
  'test': 'test.api.amadeus.com',
  'production': 'api.amadeus.com'
};

var RECOGNIZED_OPTIONS = ['clientId', 'clientSecret', 'logger', 'logLevel', 'hostname', 'host', 'customAppId', 'customAppVersion', 'http', 'ssl', 'port'];

/**
 * Helper class for validating parameters
 * @protected
 */

var Validator = function () {
  function Validator() {
    _classCallCheck(this, Validator);
  }

  _createClass(Validator, [{
    key: 'validateAndInitialize',


    /**
     * Initialise the client's default value, ensuring the required values are
     * present
     *
     * @param  {Client} client the client object to set the defaults for
     * @param  {Object} options the associative array of options passed to the
     *  client on initialization
     */
    value: function validateAndInitialize(client, options) {
      this.initializeClientCredentials(client, options);
      this.initializeLogger(client, options);
      this.initializeHost(client, options);
      this.initializeCustomApp(client, options);
      this.initializeHttp(client, options);

      this.warnOnUnrecognizedOptions(options, client, RECOGNIZED_OPTIONS);
    }

    // PRIVATE

  }, {
    key: 'initializeClientCredentials',
    value: function initializeClientCredentials(client, options) {
      client.clientId = this.initRequired('clientId', options);
      client.clientSecret = this.initRequired('clientSecret', options);
    }
  }, {
    key: 'initializeLogger',
    value: function initializeLogger(client, options) {
      client.logger = this.initOptional('logger', options, console);
      client.logLevel = this.initOptional('logLevel', options, 'silent');
    }
  }, {
    key: 'initializeHost',
    value: function initializeHost(client, options) {
      var hostname = this.initOptional('hostname', options, 'test');
      client.host = this.initOptional('host', options, HOSTS[hostname]);
      client.port = this.initOptional('port', options, 443);
      client.ssl = this.initOptional('ssl', options, true);
    }
  }, {
    key: 'initializeCustomApp',
    value: function initializeCustomApp(client, options) {
      client.customAppId = this.initOptional('customAppId', options);
      client.customAppVersion = this.initOptional('customAppVersion', options);
    }
  }, {
    key: 'initializeHttp',
    value: function initializeHttp(client, options) {
      var network = client.ssl ? _https2.default : _http2.default;
      client.http = this.initOptional('http', options, network);
    }
  }, {
    key: 'initRequired',
    value: function initRequired(key, options) {
      var result = this.initOptional(key, options);
      if (!result) throw new ArgumentError(`Missing required argument: ${key}`);
      return result;
    }
  }, {
    key: 'initOptional',
    value: function initOptional(key, options) {
      var fallback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

      var value = options[key];
      var envKey = `AMADEUS_${key.toUpperCase()}`;
      if (value == undefined) {
        value = options[key];
      }
      if (value == undefined) {
        value = process.env[envKey];
      }
      if (value == undefined) {
        value = fallback;
      }
      return value;
    }
  }, {
    key: 'warnOnUnrecognizedOptions',
    value: function warnOnUnrecognizedOptions(options, client, recognizedOptions) {
      Object.keys(options).forEach(function (key) {
        if (recognizedOptions.indexOf(key) === -1 && client.warn()) {
          client.logger.log(`Unrecognized option: ${key}`);
        }
      });
      return null;
    }
  }]);

  return Validator;
}();

// PRIVATE

var ArgumentError = function (_Error) {
  _inherits(ArgumentError, _Error);

  function ArgumentError(message) {
    _classCallCheck(this, ArgumentError);

    var _this = _possibleConstructorReturn(this, (ArgumentError.__proto__ || Object.getPrototypeOf(ArgumentError)).call(this, message));

    _this.name = 'ArgumentError';
    return _this;
  }

  return ArgumentError;
}(Error);

exports.default = Validator;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9hbWFkZXVzL2NsaWVudC92YWxpZGF0b3IuanMiXSwibmFtZXMiOlsiSE9TVFMiLCJSRUNPR05JWkVEX09QVElPTlMiLCJWYWxpZGF0b3IiLCJjbGllbnQiLCJvcHRpb25zIiwiaW5pdGlhbGl6ZUNsaWVudENyZWRlbnRpYWxzIiwiaW5pdGlhbGl6ZUxvZ2dlciIsImluaXRpYWxpemVIb3N0IiwiaW5pdGlhbGl6ZUN1c3RvbUFwcCIsImluaXRpYWxpemVIdHRwIiwid2Fybk9uVW5yZWNvZ25pemVkT3B0aW9ucyIsImNsaWVudElkIiwiaW5pdFJlcXVpcmVkIiwiY2xpZW50U2VjcmV0IiwibG9nZ2VyIiwiaW5pdE9wdGlvbmFsIiwiY29uc29sZSIsImxvZ0xldmVsIiwiaG9zdG5hbWUiLCJob3N0IiwicG9ydCIsInNzbCIsImN1c3RvbUFwcElkIiwiY3VzdG9tQXBwVmVyc2lvbiIsIm5ldHdvcmsiLCJodHRwcyIsImh0dHAiLCJrZXkiLCJyZXN1bHQiLCJBcmd1bWVudEVycm9yIiwiZmFsbGJhY2siLCJ2YWx1ZSIsImVudktleSIsInRvVXBwZXJDYXNlIiwidW5kZWZpbmVkIiwicHJvY2VzcyIsImVudiIsInJlY29nbml6ZWRPcHRpb25zIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJpbmRleE9mIiwid2FybiIsImxvZyIsIm1lc3NhZ2UiLCJuYW1lIiwiRXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0FBRUEsSUFBTUEsUUFBUTtBQUNaLFVBQWUsc0JBREg7QUFFWixnQkFBZTtBQUZILENBQWQ7O0FBS0EsSUFBTUMscUJBQXFCLENBQ3pCLFVBRHlCLEVBRXpCLGNBRnlCLEVBR3pCLFFBSHlCLEVBSXpCLFVBSnlCLEVBS3pCLFVBTHlCLEVBTXpCLE1BTnlCLEVBT3pCLGFBUHlCLEVBUXpCLGtCQVJ5QixFQVN6QixNQVR5QixFQVV6QixLQVZ5QixFQVd6QixNQVh5QixDQUEzQjs7QUFj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QUFaLENBQVI7QUFBOEI7QUFDeEQsVUFBSUQsU0FBU0csU0FBYixFQUF3QjtBQUFFSCxnQkFBUUQsUUFBUjtBQUFtQjtBQUM3QyxhQUFPQyxLQUFQO0FBQ0Q7Ozs4Q0FFeUIzQixPLEVBQVNELE0sRUFBUWtDLGlCLEVBQW1CO0FBQzVEQyxhQUFPQyxJQUFQLENBQVluQyxPQUFaLEVBQXFCb0MsT0FBckIsQ0FBNkIsVUFBQ2IsR0FBRCxFQUFTO0FBQ3BDLFlBQUlVLGtCQUFrQkksT0FBbEIsQ0FBMEJkLEdBQTFCLE1BQW1DLENBQUMsQ0FBcEMsSUFBeUN4QixPQUFPdUMsSUFBUCxFQUE3QyxFQUE0RDtBQUMxRHZDLGlCQUFPVyxNQUFQLENBQWM2QixHQUFkLENBQW1CLHdCQUF1QmhCLEdBQUksRUFBOUM7QUFDRDtBQUNGLE9BSkQ7QUFLQSxhQUFPLElBQVA7QUFDRDs7Ozs7O0FBR0g7O0lBRU1FLGE7OztBQUNKLHlCQUFZZSxPQUFaLEVBQXFCO0FBQUE7O0FBQUEsOEhBQ2JBLE9BRGE7O0FBRW5CLFVBQUtDLElBQUwsR0FBWSxlQUFaO0FBRm1CO0FBR3BCOzs7RUFKeUJDLEs7O2tCQU9iNUMsUyIsImZpbGUiOiJ2YWxpZGF0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaHR0cHMgICAgIGZyb20gJ2h0dHBzJztcbmltcG9ydCBodHRwICAgICAgZnJvbSAnaHR0cCc7XG5cbmNvbnN0IEhPU1RTID0ge1xuICAndGVzdCcgICAgICAgOiAndGVzdC5hcGkuYW1hZGV1cy5jb20nLFxuICAncHJvZHVjdGlvbicgOiAnYXBpLmFtYWRldXMuY29tJ1xufTtcblxuY29uc3QgUkVDT0dOSVpFRF9PUFRJT05TID0gW1xuICAnY2xpZW50SWQnLFxuICAnY2xpZW50U2VjcmV0JyxcbiAgJ2xvZ2dlcicsXG4gICdsb2dMZXZlbCcsXG4gICdob3N0bmFtZScsXG4gICdob3N0JyxcbiAgJ2N1c3RvbUFwcElkJyxcbiAgJ2N1c3RvbUFwcFZlcnNpb24nLFxuICAnaHR0cCcsXG4gICdzc2wnLFxuICAncG9ydCdcbl07XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIGZvciB2YWxpZGF0aW5nIHBhcmFtZXRlcnNcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuY2xhc3MgVmFsaWRhdG9yIHtcblxuICAvKipcbiAgICogSW5pdGlhbGlzZSB0aGUgY2xpZW50J3MgZGVmYXVsdCB2YWx1ZSwgZW5zdXJpbmcgdGhlIHJlcXVpcmVkIHZhbHVlcyBhcmVcbiAgICogcHJlc2VudFxuICAgKlxuICAgKiBAcGFyYW0gIHtDbGllbnR9IGNsaWVudCB0aGUgY2xpZW50IG9iamVjdCB0byBzZXQgdGhlIGRlZmF1bHRzIGZvclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgdGhlIGFzc29jaWF0aXZlIGFycmF5IG9mIG9wdGlvbnMgcGFzc2VkIHRvIHRoZVxuICAgKiAgY2xpZW50IG9uIGluaXRpYWxpemF0aW9uXG4gICAqL1xuICB2YWxpZGF0ZUFuZEluaXRpYWxpemUoY2xpZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5pbml0aWFsaXplQ2xpZW50Q3JlZGVudGlhbHMoY2xpZW50LCBvcHRpb25zKTtcbiAgICB0aGlzLmluaXRpYWxpemVMb2dnZXIoY2xpZW50LCBvcHRpb25zKTtcbiAgICB0aGlzLmluaXRpYWxpemVIb3N0KGNsaWVudCwgb3B0aW9ucyk7XG4gICAgdGhpcy5pbml0aWFsaXplQ3VzdG9tQXBwKGNsaWVudCwgb3B0aW9ucyk7XG4gICAgdGhpcy5pbml0aWFsaXplSHR0cChjbGllbnQsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy53YXJuT25VbnJlY29nbml6ZWRPcHRpb25zKG9wdGlvbnMsIGNsaWVudCwgUkVDT0dOSVpFRF9PUFRJT05TKTtcbiAgfVxuXG4gIC8vIFBSSVZBVEVcblxuICBpbml0aWFsaXplQ2xpZW50Q3JlZGVudGlhbHMoY2xpZW50LCBvcHRpb25zKSB7XG4gICAgY2xpZW50LmNsaWVudElkID0gdGhpcy5pbml0UmVxdWlyZWQoJ2NsaWVudElkJywgb3B0aW9ucyk7XG4gICAgY2xpZW50LmNsaWVudFNlY3JldCA9IHRoaXMuaW5pdFJlcXVpcmVkKCdjbGllbnRTZWNyZXQnLCBvcHRpb25zKTtcbiAgfVxuXG4gIGluaXRpYWxpemVMb2dnZXIoY2xpZW50LCBvcHRpb25zKSB7XG4gICAgY2xpZW50LmxvZ2dlciAgICA9IHRoaXMuaW5pdE9wdGlvbmFsKCdsb2dnZXInLCBvcHRpb25zLCBjb25zb2xlKTtcbiAgICBjbGllbnQubG9nTGV2ZWwgPSB0aGlzLmluaXRPcHRpb25hbCgnbG9nTGV2ZWwnLCBvcHRpb25zLCAnc2lsZW50Jyk7XG4gIH1cblxuICBpbml0aWFsaXplSG9zdChjbGllbnQsIG9wdGlvbnMpIHtcbiAgICBsZXQgaG9zdG5hbWUgPSB0aGlzLmluaXRPcHRpb25hbCgnaG9zdG5hbWUnLCBvcHRpb25zLCAndGVzdCcpO1xuICAgIGNsaWVudC5ob3N0ICA9IHRoaXMuaW5pdE9wdGlvbmFsKCdob3N0Jywgb3B0aW9ucywgSE9TVFNbaG9zdG5hbWVdKTtcbiAgICBjbGllbnQucG9ydCAgPSB0aGlzLmluaXRPcHRpb25hbCgncG9ydCcsIG9wdGlvbnMsIDQ0Myk7XG4gICAgY2xpZW50LnNzbCAgID0gdGhpcy5pbml0T3B0aW9uYWwoJ3NzbCcsIG9wdGlvbnMsIHRydWUpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZUN1c3RvbUFwcChjbGllbnQsIG9wdGlvbnMpIHtcbiAgICBjbGllbnQuY3VzdG9tQXBwSWQgPSB0aGlzLmluaXRPcHRpb25hbCgnY3VzdG9tQXBwSWQnLCBvcHRpb25zKTtcbiAgICBjbGllbnQuY3VzdG9tQXBwVmVyc2lvbiA9IHRoaXMuaW5pdE9wdGlvbmFsKCdjdXN0b21BcHBWZXJzaW9uJywgb3B0aW9ucyk7XG4gIH1cblxuICBpbml0aWFsaXplSHR0cChjbGllbnQsIG9wdGlvbnMpIHtcbiAgICBsZXQgbmV0d29yayA9IGNsaWVudC5zc2wgPyBodHRwcyA6IGh0dHA7XG4gICAgY2xpZW50Lmh0dHAgPSB0aGlzLmluaXRPcHRpb25hbCgnaHR0cCcsIG9wdGlvbnMsIG5ldHdvcmspO1xuICB9XG5cbiAgaW5pdFJlcXVpcmVkKGtleSwgb3B0aW9ucykge1xuICAgIGxldCByZXN1bHQgPSB0aGlzLmluaXRPcHRpb25hbChrZXksIG9wdGlvbnMpO1xuICAgIGlmICghcmVzdWx0KSB0aHJvdyBuZXcgQXJndW1lbnRFcnJvcihgTWlzc2luZyByZXF1aXJlZCBhcmd1bWVudDogJHtrZXl9YCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGluaXRPcHRpb25hbChrZXksIG9wdGlvbnMsIGZhbGxiYWNrID0gbnVsbCkge1xuICAgIGxldCB2YWx1ZSA9IG9wdGlvbnNba2V5XTtcbiAgICBsZXQgZW52S2V5ID0gYEFNQURFVVNfJHtrZXkudG9VcHBlckNhc2UoKX1gO1xuICAgIGlmICh2YWx1ZSA9PSB1bmRlZmluZWQpIHsgdmFsdWUgPSBvcHRpb25zW2tleV07IH1cbiAgICBpZiAodmFsdWUgPT0gdW5kZWZpbmVkKSB7IHZhbHVlID0gcHJvY2Vzcy5lbnZbZW52S2V5XTsgfVxuICAgIGlmICh2YWx1ZSA9PSB1bmRlZmluZWQpIHsgdmFsdWUgPSBmYWxsYmFjazsgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHdhcm5PblVucmVjb2duaXplZE9wdGlvbnMob3B0aW9ucywgY2xpZW50LCByZWNvZ25pemVkT3B0aW9ucykge1xuICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKHJlY29nbml6ZWRPcHRpb25zLmluZGV4T2Yoa2V5KSA9PT0gLTEgJiYgY2xpZW50Lndhcm4oKSkge1xuICAgICAgICBjbGllbnQubG9nZ2VyLmxvZyhgVW5yZWNvZ25pemVkIG9wdGlvbjogJHtrZXl9YCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLy8gUFJJVkFURVxuXG5jbGFzcyBBcmd1bWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ0FyZ3VtZW50RXJyb3InO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZhbGlkYXRvcjtcbiJdfQ==